<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=301880
  -->
<configuration>
  <configSections>
    <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" />
    <section name="saveAuditLogService" type="eGistics.AuditLog.Provider.SaveAuditLogServiceSection, eGistics.AuditLog" allowDefinition="MachineToApplication" restartOnExternalChanges="false" />
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    <section name="loginProviderService" type="eGistics.Security.LoginProvider.LoginProviderServiceSection, eGistics.Security" allowDefinition="MachineToApplication" restartOnExternalChanges="true" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>
  <log4net>
    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="L:\WWW\<%= @env %>\FDC\WWSSO-W1\ManageSSO.log" />
      <appendToFile value="true" />
      <maximumFileSize value="3MB" />
      <maxSizeRollBackups value="100" />
      <rollingStyle value="Composite" />
      <datePattern value="yyyyMMdd" />
      <staticLogFileName value="true" />
      <filter type="log4net.Filter.LevelRangeFilter">
        <acceptOnMatch value="true" />
        <levelMin value="DEBUG" />
        <levelMax value="FATAL" />
      </filter>
      <layout type="log4net.Layout.PatternLayout">
        <header value="--- HEADER ---&#xA;DATE                    &gt;Application&gt;Thread&gt;Class&gt;Method&gt;Message&#xA;" />
        <footer value="--- FOOTER ---&#xA;&#xA;&#xA;" />
        <conversionPattern value="%date %-5level &gt;Manager SSO&gt;%thread&gt;%property{Class}&gt;%property{Method}&gt;%message %newline" />
      </layout>
    </appender>
    <!-- Set the default logging level and add the active appenders Debug,Info,Warn,Error,Fatal-->
    <root>
      <level value="ALL" />
      <appender-ref ref="RollingFileAppender" />
    </root>
  </log4net>
  <dataConfiguration defaultDatabase="Admin" />
  <connectionStrings>
    <add name="Admin" connectionString="SERVER=DU-GEN-SQL-01;DATABASE=RTC_Admin3g;MultiSubnetFailover=Yes;Integrated Security=SSPI;Connect Timeout=36;encrypt=true" providerName="System.Data.SqlClient"/>
    <add name="AuditLog" connectionString="SERVER=DU-GEN-SQL-01;DATABASE=RTC_AuditLog3g;MultiSubnetFailover=Yes;Integrated Security=SSPI;Connect Timeout=36;encrypt=true" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <appSettings>
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />
    <add key="SAMLSigningSerialNumber" value="00 c1 13 c3 d5 66 f3 0f e6" />
    <!--<add key="SAMLEncryptionSerialNumber" value="a2 e3 45 4f 1a 74 16 91 49 51 80 71 84 ec d1 03" />-->
    <add key="DefaultRecipient" value="https://fdcuat.tisa.io/Web/SamlSso.ashx" />
    <add key="DefaultIssuer" value="tisSAML" />
    <add key="DefaultDomain" value="egisticsinc.com" />
  </appSettings>
  <loginProviderService defaultProvider="LFGSSO">
    <providers>

<add type="eGistics.Security.LoginProvider.SamlSsoToken, eGistics.Security" 
           name="LFGSSO" 
           ExternalId="LFGSSO"
           UserIdPrefix="" 
           ClientX509SerialNumber="6d 54 63 7d 9e 02 e1 8b 4c eb 68 41 11 9e cc 78" 
           HomePage="https://fdcuat.tisa.io/Web/CloseSession.html" 
           ErrorValidationPage="https://fdcuat.tisa.io/Web/Login.aspx" 
           DecryptMessage="false" 
           DecryptX509SerialNumber="" 
           PayloadOrderProcess="DecryptThenVerifySignature" 
           OrganizationAndRolesManagedOneGisticsSide="false" 
           Issuer="http://sso.lfg.com/adfs/services/trust" 
           OrganizationCode="REMITCOROOT" 
           AllowedRoleCodes="*" 
           FindOnlyValidCertificates="false" 
           VerifyExpiry="false" 
           UseThisLoginProviderInCaseOfNullReferrer="false" 
           SupportsChangePassword="No" />


<add type="eGistics.Security.LoginProvider.SamlSsoToken, eGistics.Security" 
           name="LFGSSOTIS" 
           ExternalId="LFGSSOTIS"
           UserIdPrefix="" 
           ClientX509SerialNumber="" 
           HomePage="https://fdcuat.tisa.io/Web/CloseSession.html" 
           ErrorValidationPage="https://fdcuat.tisa.io/Web/Login.aspx" 
           DecryptMessage="false" 
           DecryptX509SerialNumber="" 
           PayloadOrderProcess="DecryptThenVerifySignature" 
           OrganizationAndRolesManagedOneGisticsSide="false" 
           Issuer="LINCOLN" 
           OrganizationCode="REMITCOROOT" 
           AllowedRoleCodes="*" 
           FindOnlyValidCertificates="false" 
           VerifyExpiry="false" 
           UseThisLoginProviderInCaseOfNullReferrer="false" 
           SupportsChangePassword="No" />	   
	    
    </providers>
  </loginProviderService>
  <saveAuditLogService defaultProvider="SqlSaveAuditLogProvider">
    <providers>
      <add name="MSMQSaveAuditLogProvider" ConnectionStringName="AuditLog" type="eGistics.AuditLog.Provider.MSMQSaveAuditLogProvider, eGistics.AuditLog" QueuePath=".\AuditLog" />
      <add name="SqlSaveAuditLogProvider" ConnectionStringName="AuditLog" type="eGistics.AuditLog.Provider.SqlSaveAuditLogProvider, eGistics.AuditLog" />
    </providers>
  </saveAuditLogService>
  <system.web>
    <customErrors mode="Off" />
    <authentication mode="None" />
    <compilation targetFramework="4.5" />
    <httpRuntime targetFramework="4.5" maxQueryStringLength="32768" maxUrlLength="65536" />
  </system.web>
  <system.webServer>
    <modules>
      <remove name="FormsAuthentication" />
    </modules>
    <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <remove name="OPTIONSVerbHandler" />
      <remove name="TRACEVerbHandler" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
    <security>
        <requestFiltering>
			<requestLimits maxQueryString="32768" />
            <fileExtensions>
                <remove fileExtension=".asax" />
                <add fileExtension=".asax" allowed="false" />
            </fileExtensions>
        </requestFiltering>
    </security>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.Cookies" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.1.0.0" newVersion="3.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" culture="neutral" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-10.0.0.0" newVersion="10.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Optimization" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="1.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System" publicKeyToken="b77a5c561934e089" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="mssqllocaldb" />
      </parameters>
    </defaultConnectionFactory>
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
</configuration>
